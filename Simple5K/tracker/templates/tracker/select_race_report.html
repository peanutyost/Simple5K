{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="container py-3 py-md-4">
    <div class="row justify-content-center">
        <div class="col-12 col-md-10 col-lg-8 col-xl-6">
            <h1 class="mb-4">Generate Runner PDF Report</h1>
            {% if messages %}
            <div class="messages mb-3">
                {% for message in messages %}
                <div class="alert alert-{{ message.tags }}" role="alert">{{ message }}</div>
                {% endfor %}
            </div>
            {% endif %}
            <form method="get" action="{% url 'tracker:generate_runner_pdf' %}">
                <div class="mb-3">
                    <label for="{{ form.race.id_for_label }}" class="form-label">{{ form.race.label }}</label>
                    {{ form.race }}
                    {% if form.race.errors %}<div class="invalid-feedback d-block">{{ form.race.errors|join:", " }}</div>{% endif %}
                </div>
                <div class="mb-3">
                    <label for="{{ form.sort_by.id_for_label }}" class="form-label">{{ form.sort_by.label }}</label>
                    {{ form.sort_by }}
                    {% if form.sort_by.errors %}<div class="invalid-feedback d-block">{{ form.sort_by.errors|join:", " }}</div>{% endif %}
                </div>
                <button type="submit" class="btn btn-primary w-100">Generate PDF Report</button>
            </form>

            <hr class="my-4">

            <h2 class="h5 mb-3">Race Summary PDF</h2>
            <p class="text-muted small">Finishers by gender (finish order): name, number, fastest/slowest lap and lap #, overall time, overall place, age group place.</p>
            <form method="get" action="{% url 'tracker:generate_race_summary_pdf' %}">
                <div class="mb-3">
                    <label for="{{ summary_form.race.id_for_label }}" class="form-label">{{ summary_form.race.label }}</label>
                    {{ summary_form.race }}
                    {% if summary_form.race.errors %}<div class="invalid-feedback d-block">{{ summary_form.race.errors|join:", " }}</div>{% endif %}
                </div>
                <button type="submit" class="btn btn-outline-primary">Generate Race Summary PDF</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}
